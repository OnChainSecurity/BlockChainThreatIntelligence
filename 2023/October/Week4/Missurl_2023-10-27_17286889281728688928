{
    "threat_intelligence": {
        "url": "https://medium.com/monolith/understanding-defi-flash-loans-explained-1a5928a4a612",
        "timestamp": "2023-10-27 00:00:00",
        "original_content": "Understanding DeFi: flash loans explained\nDecentralised finance on Ethereum has created a new monetary paradigm. Ethereum\u2019s smart contract architecture has laid the grounds for a near-limitless open system, giving rise to groundbreaking innovations unlike anything that exists in the traditional finance world.\nAmong the most frequently discussed innovations in the space today are flash loans. In some ways flash loans are not unlike their more common predecessors found in the regular world: a user borrows funds under the proviso that they pay it back. Unlike a regular loan, though, there\u2019s no limit to the amount the user can borrow, and it can be taken out instantly, as long as it\u2019s paid back in the same transaction \u2014 at a \nflash\n speed.\nThis is made possible by smart contracts. They\u2019re programmed to ensure that the loan is returned, otherwise the transaction gets blocked. The revolutionary part is how quickly it all happens, and the borrower only needs to shell out for a transaction fee to pay for the whole process. That means that they can potentially borrow huge sums of money at a marginal cost thanks to the power of the blockchain.\nLoans in traditional finance\nTo understand more about flash loans, let\u2019s explore how loans work in traditional finance. There are two common types of loan most people are used to: unsecured and secured.\nAn unsecured loan is one where the borrower doesn\u2019t need to provide any collateral. While this can benefit the borrower, usually they are required to pay back interest on top of the loan.\nA secured loan is a little different: the lender asks the borrower to provide a form of security in case they can\u2019t pay back the loan. This case usually applies to bigger sums of money.\nWhile conventional loans have been a bedrock of the traditional finance system, they aren\u2019t always easy for people to get hold of. This is part of what could make loans in DeFi so disruptive.\nUse cases for flash loans\nSmart contracts ensure that flash loans are always paid back in the same transaction. Wondering how this benefits the borrower? Well, the composability of DeFi means that with careful planning, the loan can still be used to the borrower\u2019s advantage and paid back before the transaction completes. That\u2019s to say, there are ways of interacting with multiple smart contracts to use the loan and walk away with a profit. And because there\u2019s no limit to the amount of funds the user can borrow, those profits can be incredibly lucrative.\nPerhaps the most common method of using flash loans for profit is through arbitrage. This is a process that takes advantage of an asset\u2019s price difference in two different markets. Imagine that the borrower finds Z tokens on DEX A listed for $1, and the price of Z is $1.10 on DEX B. They could use the loan to buy up the cheap tokens on DEX A, then sell them on DEX B at a profit. Once they\u2019ve paid back the loan at the end of the transaction, they still get to keep the extra sum for themselves.\nAnother method of profit-making is through wash trading. This involves executing buys and sells of an asset in order to increase the trading volume. The procedure is forbidden in traditional markets. Using wash trading in DeFi, the borrower could take out a flash loan of Y tokens on DEX A, then execute two trades swapping Y for Z and back again on DEX B. This increases the trading volume for Y, creating an artificial level of interest and opportunity for profit.\nFlash loan borrowers can also benefit from collateral swapping. This is a process in which a collateral position can be replaced with a borrowed asset even if the borrower is unable to return the funds. If the borrower is providing collateral to DEX A using token Y, but then they start to notice Y\u2019s price dropping, they could take out a flash loan for Z and swap the collateral to avoid a liquidation.\nFlash Loan with Aave: collateral swap of a MakerDAO Vault\nFlash loan attacks\nFlash loans were pioneered by the DeFi lending protocol \nAave\n, and they\u2019ve been a hot topic of debate since emerging in early 2020. The main reason for this is how they\u2019ve come to be used to facilitate a number of large scale DeFi exploits.\nThough flash loans are a nascent innovation, there have already been a number of large scale attacks. As flash loans don\u2019t have a limit or require any collateral, it\u2019s possible to borrow millions of dollars worth of ETH to turn over a significant profit.\nA flash loan attack on the DeFi protocol Origin. The attacker borrowed 70,000 ETH from dYdX, then took advantage of a bug to inflate the supply of OUSD. They finally swapped the tokens for a $7 million profit.\nNotable flash loan attacks have involved techniques such as \nmanipulating a rebase system\n to take advantage of a token\u2019s excess supply, using oracles to artificially inflate the price of tokens, and carrying out trades to reduce the number of tokens in a pool in order to make the price surge. Usually these attacks are complex, multi-step processes carried out by highly sophisticated DeFi users. In many cases, they\u2019ve involved draining liquidity pools that regular users have invested in, leaving a lot of people facing substantial losses.\nConclusion\nDeFi has opened up the possibilities for money as we know it. Flash loans are a powerful innovation that have surfaced in the space, thanks to Ethereum and the pioneering protocols built on top of it. Through the use of programmable money legos running on smart contracts, it\u2019s now possible to take out loans and use DeFi to turn a near-instant profit in ways that never existed in traditional finance.\nBut it\u2019s important to remember that DeFi is still in its infancy. The space is often described as the Wild West of finance, which isn\u2019t an entirely unfair description: since coming to the fore in 2020, flash loans have been at least partly responsible for many large scale DeFi attacks.\nNow that you understand the basics of flash loans, what do you think about them? Should we agree that code is law, or have they simply become a tool for causing more harm than good?"
    }
}